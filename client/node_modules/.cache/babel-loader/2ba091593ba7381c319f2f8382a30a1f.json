{"ast":null,"code":"var _jsxFileName = \"/Users/jasonduncan/Lambda_Projects/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Grid as Box, TextField, Button, makeStyles, Typography, CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nconst useStyles = makeStyles({\n  container: {\n    padding: '5%',\n    width: '30%',\n    background: 'white',\n    borderRadius: '20px',\n    transform: 'translateY(100%)',\n    margin: '0 auto'\n  },\n  field: {\n    margin: '20px auto'\n  }\n});\nexport default function Login() {\n  const history = useHistory();\n  const classes = useStyles();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    formState\n  } = useForm({\n    mode: 'onChange'\n  });\n\n  const onSubmit = data => {\n    axios.post('http://localhost:5000/api/login', data).then(res => {\n      console.log(res.data.payload);\n      localStorage.setItem('authToken', res.data.payload);\n      console.log('Logged in!');\n      history.push('/animals');\n    }).catch(err => {\n      console.error(err.message);\n      localStorage.removeItem('authToken');\n      alert(`Something Went Wrong! Please Try Again!`);\n    });\n  };\n\n  if (formState.isSubmitting) {\n    return /*#__PURE__*/React.createElement(Box, {\n      className: classes.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }\n    }, \"Loading...\"), /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classes.container,\n    component: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    className: classes.field,\n    autoFocus: true,\n    variant: \"outlined\",\n    type: \"text\",\n    id: \"username\",\n    name: \"username\",\n    inputRef: register({\n      required: 'Required'\n    }),\n    label: \"Username:\",\n    error: errors.username ? true : false,\n    helperText: errors.username ? errors.username.message : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    className: classes.field,\n    inputRef: register({\n      required: 'Required'\n    }),\n    variant: \"outlined\",\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    label: \"Password:\",\n    error: errors.password ? true : false,\n    helperText: errors.password ? errors.password.message : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    type: \"submit\",\n    disabled: !formState.isValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }\n  }, \"Login\"));\n}","map":{"version":3,"sources":["/Users/jasonduncan/Lambda_Projects/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useForm","Grid","Box","TextField","Button","makeStyles","Typography","CircularProgress","axios","useHistory","useStyles","container","padding","width","background","borderRadius","transform","margin","field","Login","history","classes","handleSubmit","register","errors","formState","mode","onSubmit","data","post","then","res","console","log","payload","localStorage","setItem","push","catch","err","error","message","removeItem","alert","isSubmitting","required","username","password","isValid"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport {\n\tGrid as Box,\n\tTextField,\n\tButton,\n\tmakeStyles,\n\tTypography,\n\tCircularProgress,\n} from '@material-ui/core';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n\tcontainer: {\n\t\tpadding: '5%',\n\t\twidth: '30%',\n\t\tbackground: 'white',\n\t\tborderRadius: '20px',\n\t\ttransform: 'translateY(100%)',\n\t\tmargin: '0 auto',\n\t},\n\tfield: {\n\t\tmargin: '20px auto',\n\t},\n});\n\nexport default function Login() {\n\tconst history = useHistory();\n\tconst classes = useStyles();\n\tconst { handleSubmit, register, errors, formState } = useForm({\n\t\tmode: 'onChange',\n\t});\n\n\tconst onSubmit = (data) => {\n\t\taxios\n\t\t\t.post('http://localhost:5000/api/login', data)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data.payload);\n\t\t\t\tlocalStorage.setItem('authToken', res.data.payload);\n\t\t\t\tconsole.log('Logged in!');\n\t\t\t\thistory.push('/animals');\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err.message);\n\t\t\t\tlocalStorage.removeItem('authToken');\n\t\t\t\talert(`Something Went Wrong! Please Try Again!`);\n\t\t\t});\n\t};\n\n\tif (formState.isSubmitting) {\n\t\treturn (\n\t\t\t<Box className={classes.container}>\n\t\t\t\t<Typography>Loading...</Typography>\n\t\t\t\t<CircularProgress color='secondary' />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={classes.container}\n\t\t\tcomponent='form'\n\t\t\tonSubmit={handleSubmit(onSubmit)}\n\t\t>\n\t\t\t<TextField\n\t\t\t\tfullWidth={true}\n\t\t\t\tclassName={classes.field}\n\t\t\t\tautoFocus\n\t\t\t\tvariant='outlined'\n\t\t\t\ttype='text'\n\t\t\t\tid='username'\n\t\t\t\tname='username'\n\t\t\t\tinputRef={register({ required: 'Required' })}\n\t\t\t\tlabel='Username:'\n\t\t\t\terror={errors.username ? true : false}\n\t\t\t\thelperText={errors.username ? errors.username.message : null}\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\tfullWidth={true}\n\t\t\t\tclassName={classes.field}\n\t\t\t\tinputRef={register({\n\t\t\t\t\trequired: 'Required',\n\t\t\t\t})}\n\t\t\t\tvariant='outlined'\n\t\t\t\ttype='password'\n\t\t\t\tid='password'\n\t\t\t\tname='password'\n\t\t\t\tlabel='Password:'\n\t\t\t\terror={errors.password ? true : false}\n\t\t\t\thelperText={errors.password ? errors.password.message : null}\n\t\t\t/>\n\n\t\t\t<Button\n\t\t\t\tfullWidth\n\t\t\t\tvariant='contained'\n\t\t\t\tcolor='primary'\n\t\t\t\tsize='large'\n\t\t\t\ttype='submit'\n\t\t\t\tdisabled={!formState.isValid}\n\t\t\t>\n\t\t\t\tLogin\n\t\t\t</Button>\n\t\t</Box>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}